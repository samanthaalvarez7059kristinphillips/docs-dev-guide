---
title: Running One-Off Tasks
owner: CAPI
---

<strong><%= modified_date %></strong>

This topic describes how to run one-off tasks in Cloud Foundry. Cloud Foundry enables you to run tasks. 

## <a id='about_tasks'></a> About Tasks

Tasks are processes that are executed one time in the context of a given application. A task is only run at most once.

In contrast to a long running process (LRP), tasks run for a finite amout of time and then stop. After the task executes, the task exits cleanly and removes itself.

Tasks are designed to use minimal resources.

A task has the status of FAILED, SUCCEEDED, RUNNING

### How Tasks Are Run

1. cf create-task appname
1. stage task / queue
1. Create container
1. Run task
1. Destroy container


* A task includes the command to start the process, disk size, and memory allocation
* A task inherits environment variables, service bindings and security groups bound to the application
* A task is a single-use object which can be checked for state and success/failure message

* Tasks respect app, space, and organization level memory quotas

<p class="note"><strong>Note</strong>: You cannot SSH into a running task.</p>

### Task Logging and Execution History

* Task execution history is retained for one month
* A syslog drain attached to an app will receive task log output
* Stdout/stderr from the task will be available on the appâ€™s firehose logs

##<a id="use-cases"></a> Use Cases for Tasks

Tasks can be used to perform one-off jobs. For example, you can use a task to:

* Migrate a database
* Send an email
* Run a batch job
* Run a data processing script
* Process images
* Optimize a search index
* Upload data
* Backup data
* Download content

## <a id='run-task'></a> Managing Tasks

You can use the cf CLI to run a task in the context of an application. 

* To re-execute a task, a new task must be created
* A task is cancellable

* Tasks are always executed asynchronously

To support running and managing tasks, the cf CLI supports the following commands:

<table>
	<tr>
		<td>run-task</td>
		<td>Run a one-off task on an app</td>
	</tr>
	<tr>
		<td>tasks</td>
		<td>List tasks of an app</td>
	</tr>
	<tr>
		<td>terminate-task</td>
		<td>Terminate a running task of an app</td>
	</tr>
</table>

* <strong>Comment</strong> I think it would be nice to include more how tasks are run. Is there a queue? Is the task run in a separate container?
* provide "architectural" information about how tasks work. For example, are they run in a separate container.
* different container, same code

For example, if you run cf run-task spring-music "echo blah", CF submits the task for execution and displays:

<code>
Creating task for app spring-music in org sleslie_pivotal / space development as sleslie@pivotal.io...
OK

Task 0 has been submitted successfully for execution.
</code>

To view the tasks running on an application:

cf tasks spring-music

id   name       state       start time                      command
0    e4d3c654   SUCCEEDED   Tue, 15 Nov 2016 19:25:55 UTC   echo blah



Cloud Foundry



## Sample Application

The <strong>github_link_to_example</strong> application demonstrates ...